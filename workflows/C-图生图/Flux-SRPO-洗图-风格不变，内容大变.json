{"id":"ea616dc0-616a-4d6b-8501-f81b1f244366","revision":0,"last_node_id":55,"last_link_id":139,"nodes":[{"id":16,"type":"KSamplerSelect","pos":[735.8095703125,127.47437286376953],"size":[315,58],"flags":{},"order":0,"mode":0,"inputs":[{"localized_name":"采样器名称","name":"sampler_name","type":"COMBO","widget":{"name":"sampler_name"},"link":null}],"outputs":[{"localized_name":"采样器","name":"SAMPLER","type":"SAMPLER","links":[19]}],"properties":{"Node name for S&R":"KSamplerSelect","cnr_id":"comfy-core","ver":"0.3.47","widget_ue_connectable":{}},"widgets_values":["euler"]},{"id":22,"type":"BasicGuider","pos":[830.3206787109375,26.84794807434082],"size":[222.3482666015625,46],"flags":{},"order":16,"mode":0,"inputs":[{"localized_name":"模型","name":"model","type":"MODEL","link":54},{"localized_name":"条件","name":"conditioning","type":"CONDITIONING","link":42}],"outputs":[{"localized_name":"引导器","name":"GUIDER","type":"GUIDER","slot_index":0,"links":[30]}],"properties":{"Node name for S&R":"BasicGuider","cnr_id":"comfy-core","ver":"0.3.47","widget_ue_connectable":{}},"widgets_values":[]},{"id":10,"type":"VAELoader","pos":[1139.7001953125,415.29217529296875],"size":[270.19219970703125,62.36595916748047],"flags":{},"order":1,"mode":0,"inputs":[{"localized_name":"vae名称","name":"vae_name","type":"COMBO","widget":{"name":"vae_name"},"link":null}],"outputs":[{"localized_name":"VAE","name":"VAE","type":"VAE","slot_index":0,"links":[12]}],"properties":{"Node name for S&R":"VAELoader","cnr_id":"comfy-core","ver":"0.3.47","widget_ue_connectable":{}},"widgets_values":["ae.sft"]},{"id":13,"type":"SamplerCustomAdvanced","pos":[1133.663330078125,23.323410034179688],"size":[272.3617858886719,326],"flags":{},"order":17,"mode":0,"inputs":[{"localized_name":"噪波","name":"noise","type":"NOISE","link":37},{"localized_name":"引导器","name":"guider","type":"GUIDER","link":30},{"localized_name":"采样器","name":"sampler","type":"SAMPLER","link":19},{"localized_name":"西格玛","name":"sigmas","type":"SIGMAS","link":20},{"localized_name":"Latent图像","name":"latent_image","type":"LATENT","link":125}],"outputs":[{"localized_name":"Latent","name":"output","type":"LATENT","slot_index":0,"links":[24]},{"localized_name":"降噪Latent","name":"denoised_output","type":"LATENT","links":null}],"properties":{"Node name for S&R":"SamplerCustomAdvanced","cnr_id":"comfy-core","ver":"0.3.47","widget_ue_connectable":{}},"widgets_values":[]},{"id":25,"type":"RandomNoise","pos":[734.3186645507812,-118.02262115478516],"size":[315,82],"flags":{},"order":2,"mode":0,"inputs":[{"localized_name":"噪波随机种","name":"noise_seed","type":"INT","widget":{"name":"noise_seed"},"link":null}],"outputs":[{"localized_name":"噪波","name":"NOISE","type":"NOISE","links":[37]}],"properties":{"Node name for S&R":"RandomNoise","cnr_id":"comfy-core","ver":"0.3.47","widget_ue_connectable":{}},"widgets_values":[1026196223494040,"randomize"],"color":"#2a363b","bgcolor":"#3f5159"},{"id":26,"type":"FluxGuidance","pos":[472.25604248046875,89.27010345458984],"size":[210,58],"flags":{},"order":15,"mode":0,"inputs":[{"localized_name":"条件","name":"conditioning","type":"CONDITIONING","link":41},{"localized_name":"引导","name":"guidance","type":"FLOAT","widget":{"name":"guidance"},"link":null}],"outputs":[{"localized_name":"条件","name":"CONDITIONING","type":"CONDITIONING","slot_index":0,"links":[42]}],"properties":{"Node name for S&R":"FluxGuidance","cnr_id":"comfy-core","ver":"0.3.47","widget_ue_connectable":{}},"widgets_values":[3.5],"color":"#233","bgcolor":"#355"},{"id":30,"type":"ModelSamplingFlux","pos":[507.9500427246094,-103.66007232666016],"size":[210,130],"flags":{},"order":11,"mode":0,"inputs":[{"localized_name":"模型","name":"model","type":"MODEL","link":128},{"localized_name":"最大移位","name":"max_shift","type":"FLOAT","widget":{"name":"max_shift"},"link":null},{"localized_name":"基础移位","name":"base_shift","type":"FLOAT","widget":{"name":"base_shift"},"link":null},{"localized_name":"宽度","name":"width","type":"INT","widget":{"name":"width"},"link":null},{"localized_name":"高度","name":"height","type":"INT","widget":{"name":"height"},"link":null}],"outputs":[{"localized_name":"模型","name":"MODEL","type":"MODEL","slot_index":0,"links":[54,55]}],"properties":{"Node name for S&R":"ModelSamplingFlux","cnr_id":"comfy-core","ver":"0.3.47","widget_ue_connectable":{"width":true,"height":true}},"widgets_values":[1.15,0.5,768,1360]},{"id":12,"type":"UNETLoader","pos":[276.0655517578125,-90.37110137939453],"size":[210,82],"flags":{},"order":8,"mode":0,"inputs":[{"localized_name":"UNet名称","name":"unet_name","type":"COMBO","widget":{"name":"unet_name"},"link":117},{"localized_name":"数据类型","name":"weight_dtype","type":"COMBO","widget":{"name":"weight_dtype"},"link":null}],"outputs":[{"localized_name":"模型","name":"MODEL","type":"MODEL","slot_index":0,"links":[128]}],"properties":{"Node name for S&R":"UNETLoader","cnr_id":"comfy-core","ver":"0.3.47","widget_ue_connectable":{"unet_name":true}},"widgets_values":["FLUX\\Flux1-Dev-SRPO-v1-fp8.safetensors","default"],"color":"#223","bgcolor":"#335"},{"id":38,"type":"PrimitiveNode","pos":[26.493907928466797,-100.7989273071289],"size":[210,106],"flags":{},"order":3,"mode":0,"inputs":[],"outputs":[{"name":"COMBO","type":"COMBO","widget":{"name":"unet_name"},"links":[117]}],"title":"unet_name","properties":{"Run widget replace on values":false,"widget_ue_connectable":{}},"widgets_values":["FLUX\\Flux1-Dev-SRPO-v1-fp8.safetensors","fixed",""]},{"id":11,"type":"DualCLIPLoader","pos":[-192.41680908203125,61.76535415649414],"size":[315,130],"flags":{},"order":4,"mode":0,"inputs":[{"localized_name":"CLIP名称1","name":"clip_name1","type":"COMBO","widget":{"name":"clip_name1"},"link":null},{"localized_name":"CLIP名称2","name":"clip_name2","type":"COMBO","widget":{"name":"clip_name2"},"link":null},{"localized_name":"类型","name":"type","type":"COMBO","widget":{"name":"type"},"link":null},{"localized_name":"设备","name":"device","shape":7,"type":"COMBO","widget":{"name":"device"},"link":null}],"outputs":[{"localized_name":"CLIP","name":"CLIP","type":"CLIP","slot_index":0,"links":[10]}],"properties":{"Node name for S&R":"DualCLIPLoader","cnr_id":"comfy-core","ver":"0.3.47","widget_ue_connectable":{}},"widgets_values":["t5xxl_fp8_e4m3fn.safetensors","clip_l.safetensors","flux","default"]},{"id":45,"type":"VAEEncode","pos":[729.6048583984375,412.26458740234375],"size":[280.2349853515625,75.40411376953125],"flags":{},"order":13,"mode":0,"inputs":[{"localized_name":"像素","name":"pixels","type":"IMAGE","link":137},{"localized_name":"vae","name":"vae","type":"VAE","link":127}],"outputs":[{"localized_name":"Latent","name":"LATENT","type":"LATENT","links":[125]}],"properties":{"Node name for S&R":"VAEEncode","widget_ue_connectable":{}},"widgets_values":[]},{"id":47,"type":"VAELoader","pos":[394.07122802734375,537.9611206054688],"size":[270,58],"flags":{},"order":5,"mode":0,"inputs":[{"localized_name":"vae名称","name":"vae_name","type":"COMBO","widget":{"name":"vae_name"},"link":null}],"outputs":[{"localized_name":"VAE","name":"VAE","type":"VAE","links":[127]}],"properties":{"Node name for S&R":"VAELoader","widget_ue_connectable":{}},"widgets_values":["ae.sft"]},{"id":54,"type":"ImageScaleToTotalPixels","pos":[398.9019775390625,389.3027648925781],"size":[270,82],"flags":{"collapsed":false},"order":10,"mode":0,"inputs":[{"localized_name":"图像","name":"image","type":"IMAGE","link":136},{"localized_name":"缩放算法","name":"upscale_method","type":"COMBO","widget":{"name":"upscale_method"},"link":null},{"localized_name":"像素数量","name":"megapixels","type":"FLOAT","widget":{"name":"megapixels"},"link":null}],"outputs":[{"localized_name":"图像","name":"IMAGE","type":"IMAGE","links":[137]}],"properties":{"Node name for S&R":"ImageScaleToTotalPixels","widget_ue_connectable":{}},"widgets_values":["lanczos",1]},{"id":52,"type":"Florence2ModelLoader","pos":[-609.9905395507812,492.5552978515625],"size":[246.954833984375,133.63351440429688],"flags":{},"order":6,"mode":0,"inputs":[{"localized_name":"lora","name":"lora","shape":7,"type":"PEFTLORA","link":null},{"localized_name":"model","name":"model","type":"COMBO","widget":{"name":"model"},"link":null},{"localized_name":"precision","name":"precision","type":"COMBO","widget":{"name":"precision"},"link":null},{"localized_name":"attention","name":"attention","type":"COMBO","widget":{"name":"attention"},"link":null},{"localized_name":"convert_to_safetensors","name":"convert_to_safetensors","shape":7,"type":"BOOLEAN","widget":{"name":"convert_to_safetensors"},"link":null}],"outputs":[{"localized_name":"florence2_model","name":"florence2_model","type":"FL2MODEL","links":[132]}],"properties":{"Node name for S&R":"Florence2ModelLoader","widget_ue_connectable":{"model":true,"precision":true,"attention":true,"convert_to_safetensors":true},"ue_properties":{"widget_ue_connectable":{"model":true,"precision":true,"attention":true,"convert_to_safetensors":true},"version":"7.0.1"}},"widgets_values":["Florence-2-base","fp16","sdpa",false]},{"id":53,"type":"Florence2Run","pos":[-303.2118835449219,363.369140625],"size":[400,364],"flags":{},"order":9,"mode":0,"inputs":[{"localized_name":"image","name":"image","type":"IMAGE","link":134},{"localized_name":"florence2_model","name":"florence2_model","type":"FL2MODEL","link":132},{"localized_name":"text_input","name":"text_input","type":"STRING","widget":{"name":"text_input"},"link":null},{"localized_name":"task","name":"task","type":"COMBO","widget":{"name":"task"},"link":null},{"localized_name":"fill_mask","name":"fill_mask","type":"BOOLEAN","widget":{"name":"fill_mask"},"link":null},{"localized_name":"keep_model_loaded","name":"keep_model_loaded","shape":7,"type":"BOOLEAN","widget":{"name":"keep_model_loaded"},"link":null},{"localized_name":"max_new_tokens","name":"max_new_tokens","shape":7,"type":"INT","widget":{"name":"max_new_tokens"},"link":null},{"localized_name":"num_beams","name":"num_beams","shape":7,"type":"INT","widget":{"name":"num_beams"},"link":null},{"localized_name":"do_sample","name":"do_sample","shape":7,"type":"BOOLEAN","widget":{"name":"do_sample"},"link":null},{"localized_name":"output_mask_select","name":"output_mask_select","shape":7,"type":"STRING","widget":{"name":"output_mask_select"},"link":null},{"localized_name":"seed","name":"seed","shape":7,"type":"INT","widget":{"name":"seed"},"link":null}],"outputs":[{"localized_name":"image","name":"image","type":"IMAGE","links":[]},{"localized_name":"mask","name":"mask","type":"MASK","links":null},{"localized_name":"caption","name":"caption","type":"STRING","links":[135]},{"localized_name":"data","name":"data","type":"JSON","links":null}],"properties":{"Node name for S&R":"Florence2Run","widget_ue_connectable":{"text_input":true,"task":true,"fill_mask":true,"keep_model_loaded":true,"max_new_tokens":true,"num_beams":true,"do_sample":true,"output_mask_select":true,"seed":true},"ue_properties":{"widget_ue_connectable":{"text_input":true,"task":true,"fill_mask":true,"keep_model_loaded":true,"max_new_tokens":true,"num_beams":true,"do_sample":true,"output_mask_select":true,"seed":true},"version":"7.0.1"}},"widgets_values":["","more_detailed_caption",true,false,1024,3,true,"",805632068263930,"randomize"]},{"id":8,"type":"VAEDecode","pos":[1445.8515625,29.366735458374023],"size":[210,46],"flags":{},"order":18,"mode":0,"inputs":[{"localized_name":"Latent","name":"samples","type":"LATENT","link":24},{"localized_name":"vae","name":"vae","type":"VAE","link":12}],"outputs":[{"localized_name":"图像","name":"IMAGE","type":"IMAGE","slot_index":0,"links":[9,138]}],"properties":{"Node name for S&R":"VAEDecode","cnr_id":"comfy-core","ver":"0.3.47","widget_ue_connectable":{}},"widgets_values":[]},{"id":55,"type":"Image Comparer (rgthree)","pos":[1111.9693603515625,691.4066162109375],"size":[501.9300537109375,485.2091064453125],"flags":{},"order":20,"mode":0,"inputs":[{"dir":3,"name":"image_a","type":"IMAGE","link":138},{"dir":3,"name":"image_b","type":"IMAGE","link":139}],"outputs":[],"properties":{"comparer_mode":"Slide","widget_ue_connectable":{}},"widgets_values":[[{"name":"A","selected":true,"url":"/api/view?filename=rgthree.compare._temp_kxrxc_00001_.png&type=temp&subfolder=&rand=0.9693679929491154"},{"name":"B","selected":true,"url":"/api/view?filename=rgthree.compare._temp_kxrxc_00002_.png&type=temp&subfolder=&rand=0.0554191790411509"}]]},{"id":6,"type":"CLIPTextEncode","pos":[173.82955932617188,90.97578430175781],"size":[263.2095703125,88],"flags":{"collapsed":false},"order":12,"mode":0,"inputs":[{"localized_name":"clip","name":"clip","type":"CLIP","link":10},{"localized_name":"文本","name":"text","type":"STRING","widget":{"name":"text"},"link":135}],"outputs":[{"localized_name":"条件","name":"CONDITIONING","type":"CONDITIONING","slot_index":0,"links":[41]}],"title":"CLIP Text Encode (Positive Prompt)","properties":{"Node name for S&R":"CLIPTextEncode","cnr_id":"comfy-core","ver":"0.3.47","widget_ue_connectable":{}},"widgets_values":["portrait of a girl"],"color":"#232","bgcolor":"#353"},{"id":46,"type":"LoadImage","pos":[-731.382080078125,-75.33467864990234],"size":[358.308837890625,370.196533203125],"flags":{},"order":7,"mode":0,"inputs":[{"localized_name":"图像","name":"image","type":"COMBO","widget":{"name":"image"},"link":null},{"localized_name":"选择文件上传","name":"upload","type":"IMAGEUPLOAD","widget":{"name":"upload"},"link":null}],"outputs":[{"localized_name":"图像","name":"IMAGE","type":"IMAGE","links":[134,136,139]},{"localized_name":"遮罩","name":"MASK","type":"MASK","links":null}],"properties":{"Node name for S&R":"LoadImage","widget_ue_connectable":{}},"widgets_values":["1C14A0275BF6574EB136BD003F0B9508.png","image"]},{"id":17,"type":"BasicScheduler","pos":[738.792724609375,239.35232543945312],"size":[315,106],"flags":{},"order":14,"mode":0,"inputs":[{"localized_name":"模型","name":"model","type":"MODEL","link":55},{"localized_name":"调度器","name":"scheduler","type":"COMBO","widget":{"name":"scheduler"},"link":null},{"localized_name":"步数","name":"steps","type":"INT","widget":{"name":"steps"},"link":null},{"localized_name":"降噪","name":"denoise","type":"FLOAT","widget":{"name":"denoise"},"link":null}],"outputs":[{"localized_name":"Sigmas","name":"SIGMAS","type":"SIGMAS","links":[20]}],"properties":{"Node name for S&R":"BasicScheduler","cnr_id":"comfy-core","ver":"0.3.47","widget_ue_connectable":{}},"widgets_values":["simple",20,0.5]},{"id":9,"type":"SaveImage","pos":[1693.1202392578125,34.433631896972656],"size":[422.26043701171875,738.7769165039062],"flags":{},"order":19,"mode":0,"inputs":[{"localized_name":"图片","name":"images","type":"IMAGE","link":9},{"localized_name":"文件名前缀","name":"filename_prefix","type":"STRING","widget":{"name":"filename_prefix"},"link":null},{"localized_name":"keep_metadata","name":"keep_metadata","type":"BOOLEAN","widget":{"name":"keep_metadata"},"link":null}],"outputs":[],"properties":{"Node name for S&R":"SaveImage","cnr_id":"comfy-core","ver":"0.3.47","widget_ue_connectable":{}},"widgets_values":["SRPO/ComfyUI",false]}],"links":[[9,8,0,9,0,"IMAGE"],[10,11,0,6,0,"CLIP"],[12,10,0,8,1,"VAE"],[19,16,0,13,2,"SAMPLER"],[20,17,0,13,3,"SIGMAS"],[24,13,0,8,0,"LATENT"],[30,22,0,13,1,"GUIDER"],[37,25,0,13,0,"NOISE"],[41,6,0,26,0,"CONDITIONING"],[42,26,0,22,1,"CONDITIONING"],[54,30,0,22,0,"MODEL"],[55,30,0,17,0,"MODEL"],[117,38,0,12,0,"COMBO"],[125,45,0,13,4,"LATENT"],[127,47,0,45,1,"VAE"],[128,12,0,30,0,"MODEL"],[132,52,0,53,1,"FL2MODEL"],[134,46,0,53,0,"IMAGE"],[135,53,2,6,1,"STRING"],[136,46,0,54,0,"IMAGE"],[137,54,0,45,0,"IMAGE"],[138,8,0,55,0,"IMAGE"],[139,46,0,55,1,"IMAGE"]],"groups":[],"config":{},"extra":{"ds":{"scale":2.067737843860753,"offset":[-1249.4868057677058,46.88419713573964]},"frontendVersion":"1.23.4","groupNodes":{},"ue_links":[],"links_added_by_ue":[]},"version":0.4}